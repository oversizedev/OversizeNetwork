name: Bump version
on:
  push:
    branches:
      - main
jobs:

  build:

    runs-on: macOS-13

    name: Package build

    steps:
    - uses: actions/checkout@v3
    - name: Select Xcode
      run: sudo xcode-select -switch /Applications/Xcode_15.0.app && /usr/bin/xcodebuild -version
    - name: Build and run tests
      run: xcodebuild clean build -scheme OversizeNetwork -destination 'platform=iOS Simulator,name=iPhone 14 Pro,OS=16.4' | xcpretty

  # tag:
  #   name: Create tag
  #   runs-on: ubuntu-latest
  #   steps:
  #   - uses: actions/checkout@v3
  #     with:
  #       fetch-depth: '0'

  #   - name: Bump version and push tag
  #     uses: anothrNick/github-tag-action@1.61.0
  #     env:
  #       GITHUB_TOKEN: ${{ secrets.ACTIONS_TOKEN }}
  #       WITH_V: false

  # release:
  #   name: Create release
  #   runs-on: ubuntu-latest
  #   steps:
  #     - name: Checkout
  #       uses: actions/checkout@v3
  #     - name: Release
  #       uses: softprops/action-gh-release@v1

